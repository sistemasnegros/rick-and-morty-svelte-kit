import{S as be,i as ke,s as Pe,e as g,k as E,t as S,c as b,a as k,m as w,h as C,d,N as ve,b as p,g as q,F as m,j as F,E as V,T as Re,O as Fe,U as Ge,G as x,P as Ae,V as Le,Q as Be,W as Qe,X as We,Y as Ne,w as ee,l as Me,x as te,y as se,Z as Xe,q as O,o as G,B as ae,H as Ye,f as Ze,n as Je,p as Ke}from"../../chunks/index-9f470294.js";import{a as xe}from"../../chunks/guard-ab8716a4.js";import{R as ge,P as et,S as tt}from"../../chunks/paginator.component-cc687b31.js";import{g as Te}from"../../chunks/navigation-0e6511d1.js";import"../../chunks/auth-28c57a3d.js";import"../../chunks/index-0c949a94.js";import"../../chunks/singletons-d1fb5791.js";function st(a){let e,r,t,i,c,l,_=a[0].name+"",u,n,s,f,h,o,v,z=a[0].status+"",D,re,N,le,ne,M,R=a[0].species+"",W,ce,T,oe,ie,U,A=a[0].gender+"",X,ue,$,fe,me,j,B=a[0].origin.name+"",Y,de,H,he,pe,L,Q=a[0].location.name+"",Z,_e,J;return{c(){e=g("div"),r=g("img"),i=E(),c=g("div"),l=g("h5"),u=S(_),n=E(),s=g("div"),f=g("p"),h=S("Status:"),o=E(),v=g("p"),D=S(z),re=E(),N=g("p"),le=S("Species:"),ne=E(),M=g("p"),W=S(R),ce=E(),T=g("p"),oe=S("Gender:"),ie=E(),U=g("p"),X=S(A),ue=E(),$=g("p"),fe=S("Origin:"),me=E(),j=g("p"),Y=S(B),de=E(),H=g("p"),he=S("Location:"),pe=E(),L=g("p"),Z=S(Q),_e=E(),J=g("div"),this.h()},l(I){e=b(I,"DIV",{class:!0});var y=k(e);r=b(y,"IMG",{src:!0,alt:!0,class:!0}),i=w(y),c=b(y,"DIV",{class:!0});var K=k(c);l=b(K,"H5",{class:!0});var Ee=k(l);u=C(Ee,_),Ee.forEach(d),n=w(K),s=b(K,"DIV",{class:!0});var P=k(s);f=b(P,"P",{class:!0});var we=k(f);h=C(we,"Status:"),we.forEach(d),o=w(P),v=b(P,"P",{class:!0});var ye=k(v);D=C(ye,z),ye.forEach(d),re=w(P),N=b(P,"P",{class:!0});var Se=k(N);le=C(Se,"Species:"),Se.forEach(d),ne=w(P),M=b(P,"P",{class:!0});var Ce=k(M);W=C(Ce,R),Ce.forEach(d),ce=w(P),T=b(P,"P",{class:!0});var Ie=k(T);oe=C(Ie,"Gender:"),Ie.forEach(d),ie=w(P),U=b(P,"P",{class:!0});var qe=k(U);X=C(qe,A),qe.forEach(d),ue=w(P),$=b(P,"P",{class:!0});var ze=k($);fe=C(ze,"Origin:"),ze.forEach(d),me=w(P),j=b(P,"P",{class:!0});var De=k(j);Y=C(De,B),De.forEach(d),de=w(P),H=b(P,"P",{class:!0});var Oe=k(H);he=C(Oe,"Location:"),Oe.forEach(d),pe=w(P),L=b(P,"P",{class:!0});var Ve=k(L);Z=C(Ve,Q),Ve.forEach(d),_e=w(P),J=b(P,"DIV",{}),k(J).forEach(d),P.forEach(d),K.forEach(d),y.forEach(d),this.h()},h(){ve(r.src,t=a[0].image)||p(r,"src",t),p(r,"alt","..."),p(r,"class","svelte-ssdn89"),p(l,"class","card-title"),p(f,"class","field svelte-ssdn89"),p(v,"class","data svelte-ssdn89"),p(N,"class","field svelte-ssdn89"),p(M,"class","data svelte-ssdn89"),p(T,"class","field svelte-ssdn89"),p(U,"class","data svelte-ssdn89"),p($,"class","field svelte-ssdn89"),p(j,"class","data svelte-ssdn89"),p(H,"class","field svelte-ssdn89"),p(L,"class","data svelte-ssdn89"),p(s,"class","details svelte-ssdn89"),p(c,"class","card-body"),p(e,"class","card svelte-ssdn89")},m(I,y){q(I,e,y),m(e,r),m(e,i),m(e,c),m(c,l),m(l,u),m(c,n),m(c,s),m(s,f),m(f,h),m(s,o),m(s,v),m(v,D),m(s,re),m(s,N),m(N,le),m(s,ne),m(s,M),m(M,W),m(s,ce),m(s,T),m(T,oe),m(s,ie),m(s,U),m(U,X),m(s,ue),m(s,$),m($,fe),m(s,me),m(s,j),m(j,Y),m(s,de),m(s,H),m(H,he),m(s,pe),m(s,L),m(L,Z),m(s,_e),m(s,J)},p(I,[y]){y&1&&!ve(r.src,t=I[0].image)&&p(r,"src",t),y&1&&_!==(_=I[0].name+"")&&F(u,_),y&1&&z!==(z=I[0].status+"")&&F(D,z),y&1&&R!==(R=I[0].species+"")&&F(W,R),y&1&&A!==(A=I[0].gender+"")&&F(X,A),y&1&&B!==(B=I[0].origin.name+"")&&F(Y,B),y&1&&Q!==(Q=I[0].location.name+"")&&F(Z,Q)},i:V,o:V,d(I){I&&d(e)}}}function at(a,e,r){let{character:t}=e;return a.$$set=i=>{"character"in i&&r(0,t=i.character)},[t]}class rt extends be{constructor(e){super(),ke(this,e,at,st,Pe,{character:0})}}function Ue(a,e,r){const t=a.slice();return t[7]=e[r],t}function $e(a){let e,r=a[7].text+"",t,i,c;return{c(){e=g("option"),t=S(r),i=E(),this.h()},l(l){e=b(l,"OPTION",{});var _=k(e);t=C(_,r),i=w(_),_.forEach(d),this.h()},h(){e.__value=c=a[7].id,e.value=e.__value},m(l,_){q(l,e,_),m(e,t),m(e,i)},p:V,d(l){l&&d(e)}}}function lt(a){let e,r,t,i,c,l,_,u,n=a[2],s=[];for(let f=0;f<n.length;f+=1)s[f]=$e(Ue(a,n,f));return{c(){e=g("form"),r=g("div"),t=g("input"),i=E(),c=g("div"),l=g("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=b(f,"FORM",{class:!0});var h=k(e);r=b(h,"DIV",{class:!0});var o=k(r);t=b(o,"INPUT",{type:!0,class:!0,placeholder:!0,"aria-label":!0,"aria-describedby":!0}),o.forEach(d),i=w(h),c=b(h,"DIV",{class:!0});var v=k(c);l=b(v,"SELECT",{class:!0});var z=k(l);for(let D=0;D<s.length;D+=1)s[D].l(z);z.forEach(d),v.forEach(d),h.forEach(d),this.h()},h(){p(t,"type","text"),p(t,"class","form-control"),p(t,"placeholder","Name..."),p(t,"aria-label","Username"),p(t,"aria-describedby","addon-wrapping"),p(r,"class","input-group flex-nowrap svelte-abqvzx"),p(l,"class","form-select"),a[1].status===void 0&&Re(()=>a[4].call(l)),p(c,"class","svelte-abqvzx"),p(e,"class","svelte-abqvzx")},m(f,h){q(f,e,h),m(e,r),m(r,t),Fe(t,a[1].name),m(e,i),m(e,c),m(c,l);for(let o=0;o<s.length;o+=1)s[o].m(l,null);Ge(l,a[1].status),_||(u=[x(t,"input",a[3]),x(l,"change",a[4]),x(l,"change",a[5]),x(e,"submit",Ae(a[6]))],_=!0)},p(f,[h]){if(h&6&&t.value!==f[1].name&&Fe(t,f[1].name),h&4){n=f[2];let o;for(o=0;o<n.length;o+=1){const v=Ue(f,n,o);s[o]?s[o].p(v,h):(s[o]=$e(v),s[o].c(),s[o].m(l,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}h&6&&Ge(l,f[1].status)},i:V,o:V,d(f){f&&d(e),Le(s,f),_=!1,Be(u)}}}function nt(a,e,r){let{submit:t}=e,i=[{id:null,text:"Select Status"},{id:"alive",text:"Alive"},{id:"dead",text:"Dead"},{id:"unknown",text:"Unknown"}],c={name:"",status:null};function l(){c.name=this.value,r(1,c),r(2,i)}function _(){c.status=Qe(this),r(1,c),r(2,i)}const u=()=>t(c),n=()=>t(c);return a.$$set=s=>{"submit"in s&&r(0,t=s.submit)},[t,c,i,l,_,u,n]}class ct extends be{constructor(e){super(),ke(this,e,nt,lt,Pe,{submit:0})}}const ot=()=>{const a=We("__svelte__");return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:a.navigating.subscribe}},session:a.session,updated:a.updated}},it={subscribe(a){return ot().page.subscribe(a)}};function je(a,e,r){const t=a.slice();return t[6]=e[r],t}function ut(a){let e,r=a[9].message+"",t;return{c(){e=g("p"),t=S(r),this.h()},l(i){e=b(i,"P",{style:!0});var c=k(e);t=C(c,r),c.forEach(d),this.h()},h(){Ze(e,"color","red")},m(i,c){q(i,e,c),m(e,t)},p(i,c){c&2&&r!==(r=i[9].message+"")&&F(t,r)},i:V,o:V,d(i){i&&d(e)}}}function ft(a){let e,r,t,i;e=new et({props:{metadata:a[1].info,numberPageOnClick:a[3],currentPageProps:a[0]}});let c=a[1].results,l=[];for(let u=0;u<c.length;u+=1)l[u]=He(je(a,c,u));const _=u=>G(l[u],1,1,()=>{l[u]=null});return{c(){ee(e.$$.fragment),r=E(),t=g("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){te(e.$$.fragment,u),r=w(u),t=b(u,"DIV",{class:!0});var n=k(t);for(let s=0;s<l.length;s+=1)l[s].l(n);n.forEach(d),this.h()},h(){p(t,"class","characters-body svelte-1435bhk")},m(u,n){se(e,u,n),q(u,r,n),q(u,t,n);for(let s=0;s<l.length;s+=1)l[s].m(t,null);i=!0},p(u,n){const s={};if(n&2&&(s.metadata=u[1].info),n&1&&(s.currentPageProps=u[0]),e.$set(s),n&2){c=u[1].results;let f;for(f=0;f<c.length;f+=1){const h=je(u,c,f);l[f]?(l[f].p(h,n),O(l[f],1)):(l[f]=He(h),l[f].c(),O(l[f],1),l[f].m(t,null))}for(Je(),f=c.length;f<l.length;f+=1)_(f);Ke()}},i(u){if(!i){O(e.$$.fragment,u);for(let n=0;n<c.length;n+=1)O(l[n]);i=!0}},o(u){G(e.$$.fragment,u),l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)G(l[n]);i=!1},d(u){ae(e,u),u&&d(r),u&&d(t),Le(l,u)}}}function He(a){let e,r;return e=new rt({props:{character:a[6]}}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,i){se(e,t,i),r=!0},p(t,i){const c={};i&2&&(c.character=t[6]),e.$set(c)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){G(e.$$.fragment,t),r=!1},d(t){ae(e,t)}}}function mt(a){let e,r;return e=new tt({}),{c(){ee(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,i){se(e,t,i),r=!0},p:V,i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){G(e.$$.fragment,t),r=!1},d(t){ae(e,t)}}}function dt(a){let e,r,t,i,c,l,_,u,n,s,f;_=new ct({props:{submit:a[2]}});let h={ctx:a,current:null,token:null,hasCatch:!0,pending:mt,then:ft,catch:ut,value:1,error:9,blocks:[,,,]};return Ne(s=a[1],h),{c(){e=g("img"),t=E(),i=g("h1"),c=S("Characters"),l=E(),ee(_.$$.fragment),u=E(),n=Me(),h.block.c(),this.h()},l(o){e=b(o,"IMG",{src:!0,alt:!0,class:!0}),t=w(o),i=b(o,"H1",{class:!0});var v=k(i);c=C(v,"Characters"),v.forEach(d),l=w(o),te(_.$$.fragment,o),u=w(o),n=Me(),h.block.l(o),this.h()},h(){ve(e.src,r="/rick_and_morty.webp")||p(e,"src",r),p(e,"alt",""),p(e,"class","svelte-1435bhk"),p(i,"class","svelte-1435bhk")},m(o,v){q(o,e,v),q(o,t,v),q(o,i,v),m(i,c),q(o,l,v),se(_,o,v),q(o,u,v),q(o,n,v),h.block.m(o,h.anchor=v),h.mount=()=>n.parentNode,h.anchor=n,f=!0},p(o,[v]){a=o,h.ctx=a,v&2&&s!==(s=a[1])&&Ne(s,h)||Xe(h,a,v)},i(o){f||(O(_.$$.fragment,o),O(h.block),f=!0)},o(o){G(_.$$.fragment,o);for(let v=0;v<3;v+=1){const z=h.blocks[v];G(z)}f=!1},d(o){o&&d(e),o&&d(t),o&&d(i),o&&d(l),ae(_,o),o&&d(u),o&&d(n),h.block.d(o),h.token=null,h=null}}}const Et=async({url:a,fetch:e,params:r})=>{xe(a);const t=a.searchParams.get("page")||1,i=a.searchParams.get("name"),c=a.searchParams.get("status");return{props:{characters:await ge.findCharacter({page:t,name:i,status:c},{fetch:e}).then(_=>_),currentPage:+t,searchFields:{name:i,status:c}}}};function ht(a,e,r){let t;Ye(a,it,n=>r(5,t=n));let{characters:i}=e,{searchFields:c={}}=e,{currentPage:l=1}=e;const _=async n=>{const s=t.url;s.searchParams.set("page","1"),s.searchParams.set("name",n.name),s.searchParams.set("status",n.status),await Te(s,{keepfocus:!0,noscroll:!0}),r(1,i=await ge.findCharacter(n)),r(4,c=n),r(0,l=1)},u=async n=>{const s=t.url;s.searchParams.set("page",`${n}`),await Te(s,{keepfocus:!0,noscroll:!0}),r(1,i=await ge.findCharacter({page:n,...c})),r(0,l=n)};return a.$$set=n=>{"characters"in n&&r(1,i=n.characters),"searchFields"in n&&r(4,c=n.searchFields),"currentPage"in n&&r(0,l=n.currentPage)},[l,i,_,u,c]}class wt extends be{constructor(e){super(),ke(this,e,ht,dt,Pe,{characters:1,searchFields:4,currentPage:0})}}export{wt as default,Et as load};
